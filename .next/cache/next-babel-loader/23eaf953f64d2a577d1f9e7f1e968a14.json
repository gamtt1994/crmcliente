{"ast":null,"code":"var _jsxFileName = \"D:\\\\Descargas\\\\crmcliente\\\\crmcliente\\\\pages\\\\mejoresvendedores.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect } from \"react\";\nimport Layout from \"../components/Layout\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\nimport { gql, useQuery } from \"@apollo/client\";\nconst MEJORES_VENDEDORES = gql`\n  query mejoresVendedores {\n    mejoresVendedores {\n      vendedor {\n        nombre\n        email\n      }\n      total\n    }\n  }\n`;\n\nconst MejoresVendedores = () => {\n  const {\n    data,\n    loading,\n    error,\n    startPolling,\n    stopPolling\n  } = useQuery(MEJORES_VENDEDORES);\n  useEffect(() => {\n    startPolling(1000);\n    return () => {\n      stopPolling();\n    };\n  }, [startPolling, stopPolling]);\n  if (loading) return \"cargando...\";\n  console.log(data);\n  const {\n    mejoresVendedores\n  } = data;\n  const vendedorGrafica = [];\n  mejoresVendedores.map((vendedor, index) => {\n    vendedorGrafica[index] = _objectSpread({}, vendedor.vendedor[0], {\n      total: vendedor.total\n    });\n  });\n  console.log(\"hola:\", vendedorGrafica);\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-2xl text-gray-800 font-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Mejores Vendedores\"), __jsx(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(\"thead\", {\n    className: \"bg-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Nombre\"), __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Total\"))), data.mejoresVendedores.map(cliente => __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, cliente.vendedor.map(vendedores => __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, vendedores.nombre))), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, cliente.total))))), __jsx(ResponsiveContainer, {\n    width: \"99%\",\n    height: 550,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(BarChart, {\n    className: \"mt-10\",\n    width: 600,\n    height: 500,\n    data: vendedorGrafica,\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), __jsx(XAxis, {\n    dataKey: \"nombre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), __jsx(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }), __jsx(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), __jsx(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), __jsx(Bar, {\n    dataKey: \"total\",\n    fill: \"#3182CE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default MejoresVendedores;","map":{"version":3,"sources":["D:/Descargas/crmcliente/crmcliente/pages/mejoresvendedores.js"],"names":["React","useEffect","Layout","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","gql","useQuery","MEJORES_VENDEDORES","MejoresVendedores","data","loading","error","startPolling","stopPolling","console","log","mejoresVendedores","vendedorGrafica","map","vendedor","index","total","cliente","vendedores","nombre","top","right","left","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Layout from \"../components/Layout\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\nimport { gql, useQuery } from \"@apollo/client\";\n\nconst MEJORES_VENDEDORES = gql`\n  query mejoresVendedores {\n    mejoresVendedores {\n      vendedor {\n        nombre\n        email\n      }\n      total\n    }\n  }\n`;\n\nconst MejoresVendedores = () => {\n  const { data, loading, error, startPolling, stopPolling } = useQuery(\n    MEJORES_VENDEDORES\n  );\n\n  useEffect(() => {\n    startPolling(1000);\n    return () => {\n      stopPolling();\n    };\n  }, [startPolling, stopPolling]);\n\n  if (loading) return \"cargando...\";\n\n  console.log(data);\n\n  const { mejoresVendedores } = data;\n  const vendedorGrafica = [];\n\n  mejoresVendedores.map((vendedor, index) => {\n    vendedorGrafica[index] = {\n      ...vendedor.vendedor[0],\n      total: vendedor.total,\n    };\n  });\n\n  console.log(\"hola:\", vendedorGrafica);\n\n  return (\n    <Layout>\n      <h1 className=\"text-2xl text-gray-800 font-light\">Mejores Vendedores</h1>\n      <table>\n        <thead className=\"bg-gray-800\">\n          <tr className=\"text-white\">\n            <th className=\"w-1/5 py-2\">Nombre</th>\n            <th className=\"w-1/5 py-2\">Total</th>\n          </tr>\n        </thead>\n\n        {data.mejoresVendedores.map((cliente) => (\n          <tbody>\n            <tr>\n              <td>\n                {cliente.vendedor.map((vendedores) => (\n                  <td>{vendedores.nombre}</td>\n                ))}\n              </td>\n              <td>{cliente.total}</td>\n            </tr>\n          </tbody>\n        ))}\n      </table>\n\n      <ResponsiveContainer width={\"99%\"} height={550}>\n        <BarChart\n          className=\"mt-10\"\n          width={600}\n          height={500}\n          data={vendedorGrafica}\n          margin={{\n            top: 5,\n            right: 30,\n            left: 20,\n            bottom: 5,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"nombre\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"total\" fill=\"#3182CE\" />\n        </BarChart>\n      </ResponsiveContainer>\n    </Layout>\n  );\n};\n\nexport default MejoresVendedores;\n"]},"metadata":{},"sourceType":"module"}