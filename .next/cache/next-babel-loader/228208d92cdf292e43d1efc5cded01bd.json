{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Descargas\\\\Crmcliente\\\\Crmcliente\\\\pages\\\\mejoresclientes.js\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query mejoresClientes {\\n    mejoresClientes {\\n      cliente {\\n        nombre\\n        empresa\\n      }\\n      total\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect } from \"react\";\nimport Layout from \"../components/layout\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from \"recharts\";\nimport { gql, useQuery } from \"@apollo/client\";\nvar MEJORES_CLIENTES = gql(_templateObject());\n\nvar MejoresClientes = function MejoresClientes() {\n  var _useQuery = useQuery(MEJORES_CLIENTES),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      startPolling = _useQuery.startPolling,\n      stopPolling = _useQuery.stopPolling;\n\n  useEffect(function () {\n    startPolling(1000);\n    return function () {\n      stopPolling();\n    };\n  }, [startPolling, stopPolling]);\n  if (loading) return \"cargando...\";\n  console.log(data);\n  var mejoresClientes = data.mejoresClientes;\n  var clienteGrafica = [];\n  mejoresClientes.map(function (cliente, index) {\n    clienteGrafica[index] = _objectSpread({}, cliente.cliente[0], {\n      total: cliente.total\n    });\n  });\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-2xl text-gray-800 font-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Mejores Clientes\"), __jsx(BarChart, {\n    className: \"mt-10\",\n    width: 600,\n    height: 500,\n    data: clienteGrafica,\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, __jsx(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), __jsx(XAxis, {\n    dataKey: \"nombre\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), __jsx(YAxis, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), __jsx(Tooltip, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), __jsx(Legend, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), __jsx(Bar, {\n    dataKey: \"total\",\n    fill: \"#3182CE\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default MejoresClientes;","map":{"version":3,"sources":["D:/Descargas/Crmcliente/Crmcliente/pages/mejoresclientes.js"],"names":["React","useEffect","Layout","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","gql","useQuery","MEJORES_CLIENTES","MejoresClientes","data","loading","error","startPolling","stopPolling","console","log","mejoresClientes","clienteGrafica","map","cliente","index","total","top","right","left","bottom"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SACEC,QADF,EAEEC,GAFF,EAGEC,KAHF,EAIEC,KAJF,EAKEC,aALF,EAMEC,OANF,EAOEC,MAPF,QAQO,UARP;AASA,SAASC,GAAT,EAAcC,QAAd,QAA8B,gBAA9B;AAEA,IAAMC,gBAAgB,GAAGF,GAAH,mBAAtB;;AAYA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAAA,kBACgCF,QAAQ,CAClEC,gBADkE,CADxC;AAAA,MACpBE,IADoB,aACpBA,IADoB;AAAA,MACdC,OADc,aACdA,OADc;AAAA,MACLC,KADK,aACLA,KADK;AAAA,MACEC,YADF,aACEA,YADF;AAAA,MACgBC,WADhB,aACgBA,WADhB;;AAK5BjB,EAAAA,SAAS,CAAC,YAAM;AACdgB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,WAAO,YAAM;AACXC,MAAAA,WAAW;AACZ,KAFD;AAGD,GALQ,EAKN,CAACD,YAAD,EAAeC,WAAf,CALM,CAAT;AAOA,MAAIH,OAAJ,EAAa,OAAO,aAAP;AAEbI,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AAd4B,MAgBpBO,eAhBoB,GAgBAP,IAhBA,CAgBpBO,eAhBoB;AAkB5B,MAAMC,cAAc,GAAG,EAAvB;AAEAD,EAAAA,eAAe,CAACE,GAAhB,CAAoB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACtCH,IAAAA,cAAc,CAACG,KAAD,CAAd,qBACKD,OAAO,CAACA,OAAR,CAAgB,CAAhB,CADL;AAEEE,MAAAA,KAAK,EAAEF,OAAO,CAACE;AAFjB;AAID,GALD;AAOA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,mCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAGE,MAAC,QAAD;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,KAAK,EAAE,GAFT;AAGE,IAAA,MAAM,EAAE,GAHV;AAIE,IAAA,IAAI,EAAEJ,cAJR;AAKE,IAAA,MAAM,EAAE;AACNK,MAAAA,GAAG,EAAE,CADC;AAENC,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,IAAI,EAAE,EAHA;AAINC,MAAAA,MAAM,EAAE;AAJF,KALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYE,MAAC,aAAD;AAAe,IAAA,eAAe,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAaE,MAAC,KAAD;AAAO,IAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAcE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,EAeE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,EAgBE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,EAiBE,MAAC,GAAD;AAAK,IAAA,OAAO,EAAC,OAAb;AAAqB,IAAA,IAAI,EAAC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,CAHF,CADF;AAyBD,CApDD;;AAsDA,eAAejB,eAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport Layout from \"../components/layout\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from \"recharts\";\nimport { gql, useQuery } from \"@apollo/client\";\n\nconst MEJORES_CLIENTES = gql`\n  query mejoresClientes {\n    mejoresClientes {\n      cliente {\n        nombre\n        empresa\n      }\n      total\n    }\n  }\n`;\n\nconst MejoresClientes = () => {\n  const { data, loading, error, startPolling, stopPolling } = useQuery(\n    MEJORES_CLIENTES\n  );\n\n  useEffect(() => {\n    startPolling(1000);\n    return () => {\n      stopPolling();\n    };\n  }, [startPolling, stopPolling]);\n\n  if (loading) return \"cargando...\";\n\n  console.log(data);\n\n  const { mejoresClientes } = data;\n\n  const clienteGrafica = [];\n\n  mejoresClientes.map((cliente, index) => {\n    clienteGrafica[index] = {\n      ...cliente.cliente[0],\n      total: cliente.total,\n    };\n  });\n\n  return (\n    <Layout>\n      <h1 className=\"text-2xl text-gray-800 font-light\">Mejores Clientes</h1>\n\n      <BarChart\n        className=\"mt-10\"\n        width={600}\n        height={500}\n        data={clienteGrafica}\n        margin={{\n          top: 5,\n          right: 30,\n          left: 20,\n          bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"nombre\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        <Bar dataKey=\"total\" fill=\"#3182CE\" />\n      </BarChart>\n    </Layout>\n  );\n};\n\nexport default MejoresClientes;\n"]},"metadata":{},"sourceType":"module"}